#!/usr/bin/env bash
# Print the computer's IP addresses

case $(uname) in
  Linux)
    ip addr show | grep -B1 "inet" | \
    awk -F' ' '{ if ( $1 == "inet" ) { print $2 } else if ( $2 == "Link" ) { printf "%s:" ,$1 } }' | \
    awk -F: '{ print $1 ": " $3 }'
    ;;
  Darwin)
    for i in $(ifconfig -l | tr ' ' '\n'); do
      ipaddr=$(ifconfig $i | grep -o 'inet6\? \(addr:\)\?\s\?\(\(\([0-9]\+\.\)\{3\}[0-9]\+\)\|[a-fA-F0-9:]\+\)')
      [ -n "$ipaddr" ] && echo $i ":" $ipaddr
    done
    ;;
  CYGWIN*)
    ipconfig | awk -F" ." '/Address/ {print $NF}'
    ;;
esac
